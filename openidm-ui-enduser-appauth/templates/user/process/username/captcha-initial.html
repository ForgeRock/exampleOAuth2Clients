{{!
Copyright 2015-2017 ForgeRock AS. All Rights Reserved

Use of this code requires a commercial software license with ForgeRock AS.
or with one of its affiliates. All use shall be exclusively subject
to such license between the licensee and ForgeRock AS.
}}
<script src='https://www.google.com/recaptcha/api.js'></script>
<script>
function handleCaptchaCallback(response) {
    var $ = require("jquery");
    $("#captchaResponse :input[name=response]").val(response);
    $("#captchaResponse").trigger("submit");
}
</script>

<style>
.g-recaptcha>div>div {
    display: inline-block;
}
</style>

<div class="g-recaptcha"
    data-sitekey="{{requirements.properties.response.recaptchaSiteKey}}"
    data-callback="handleCaptchaCallback"></div>

<form class="form" id="captchaResponse">
    <input type="hidden" name="response">
</form>
